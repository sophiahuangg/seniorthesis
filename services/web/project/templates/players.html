{% extends "base.html" %}
<!DOCTYPE html>
<html>
<head>
    <title>Players</title>
    <script src="https://unpkg.com/htmx.org@1.9.12" integrity="sha384-ujb1lZYygJmzgSwoxRggbCHcjc0rB2XoQrxeTUQyRjrOnlCoYta87iKBWq3EsdM2" crossorigin="anonymous"></script>
</head>
<body>
        
{% block content %}
<form id="searchForm" hx-get="/players">
    <input type="search" class="form-control" placeholder="Find a player" name="player" hx-target="#results">
    <button>Search</button>
</form>

<p>Searching for: {{ player }}</p>
<table border="1" id="results">
<tbody>
{% if players %}
    {% for col in colnames %}
        <th colspan>{{ col[0] }}</th>
    {% endfor %}
    {% for player in players %}
    <tr>
        {% for info in player %}
        <td>{{ info }}</td>
        {% endfor %}
    </tr>
    {% endfor %}
{% else %}
<h1>No players found.</h1> 
{% endif %}
</tbody>
</table>
{% endblock %}

</body>
</html>
